<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulator Penerangan Ruangan - Kelompok 6</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --success: #2ecc71;
            --warning: #f39c12;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --cyan: #1abc9c;
            --magenta: #9b59b6;
            --gray: #95a5a6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a2980, #26d0ce);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }

        /* Header */
        .header {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            padding: 25px;
            text-align: center;
            position: relative;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .header h2 {
            font-size: 1.2rem;
            font-weight: 300;
            margin-bottom: 20px;
        }

        .team-members {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }

        .member {
            background: rgba(255, 255, 255, 0.2);
            padding: 10px 15px;
            border-radius: 50px;
            font-size: 0.9rem;
            transition: transform 0.3s;
        }

        .member:hover {
            transform: translateY(-3px);
            background: rgba(255, 255, 255, 0.3);
        }

        /* Main Content */
        .main-content {
            display: flex;
            min-height: 700px;
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            background: var(--light);
            border-right: 1px solid #ddd;
            padding: 20px 0;
        }

        .menu {
            list-style: none;
        }

        /* Menu Item Styles - FIXED */
        .menu-item {
            padding: 15px 25px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            transition: all 0.3s;
            border-left: 4px solid transparent;
            font-weight: 500;
            user-select: none;
            background: transparent;
            border: none;
            width: 100%;
            text-align: left;
            color: var(--dark);
            font-size: 1rem;
        }

        .menu-item:hover {
            background: rgba(52, 152, 219, 0.1);
            border-left-color: var(--secondary);
            padding-left: 30px;
        }

        .menu-item.active {
            background: rgba(52, 152, 219, 0.15);
            border-left-color: var(--secondary);
            color: var(--secondary);
            font-weight: 600;
        }

        .menu-item i {
            width: 20px;
            text-align: center;
        }

        /* Content Area */
        .content-area {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
        }

        .section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            font-size: 1.8rem;
            color: var(--primary);
            margin-bottom: 25px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--cyan);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Form Styles */
        .form-container {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 25px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
            transition: border 0.3s;
        }

        .form-control:focus {
            border-color: var(--secondary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }

        .input-row {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }

        .input-row .form-group {
            flex: 1;
            margin-bottom: 0;
        }

        /* Button Styles */
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--secondary);
            color: white;
        }

        .btn-primary:hover {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .btn-success:hover {
            background: #27ae60;
        }

        .btn-warning {
            background: var(--warning);
            color: white;
        }

        .btn-warning:hover {
            background: #e67e22;
        }

        .btn-block {
            width: 100%;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        /* Progress Bar */
        .progress-container {
            margin: 30px 0;
        }

        .progress-bar {
            height: 8px;
            background: #eee;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--cyan), var(--secondary));
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 4px;
        }

        .progress-steps {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
        }

        .step {
            text-align: center;
            color: #999;
            font-size: 0.9rem;
            transition: color 0.3s;
            flex: 1;
            position: relative;
        }

        .step.active {
            color: var(--secondary);
            font-weight: 600;
        }

        .step::before {
            content: "";
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ddd;
            transition: background 0.3s;
        }

        .step.active::before {
            background: var(--secondary);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }

        /* Card Grid */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .card.selected {
            border-color: var(--success);
            background: rgba(46, 204, 113, 0.05);
        }

        .card-title {
            font-size: 1.2rem;
            color: var(--primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        .card-content {
            color: #666;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        /* Results */
        .results-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .result-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s;
        }

        .result-card:hover {
            transform: translateY(-3px);
        }

        .result-card.highlight {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
        }

        .result-title {
            font-size: 1.1rem;
            margin-bottom: 15px;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .result-card.highlight .result-title {
            color: white;
        }

        .result-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--secondary);
            margin-bottom: 5px;
        }

        .result-card.highlight .result-value {
            color: white;
        }

        .result-unit {
            font-size: 0.9rem;
            color: var(--gray);
        }

        .result-card.highlight .result-unit {
            color: rgba(255, 255, 255, 0.8);
        }

        /* Tips Section */
        .tips-container {
            background: rgba(46, 204, 113, 0.1);
            border-left: 4px solid var(--success);
            padding: 20px;
            border-radius: 0 6px 6px 0;
            margin-top: 25px;
        }

        .tips-title {
            color: var(--success);
            font-size: 1.2rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .tip-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-bottom: 10px;
        }

        .tip-icon {
            color: var(--success);
            margin-top: 3px;
            flex-shrink: 0;
        }

        /* Footer */
        .footer {
            background: var(--primary);
            color: white;
            padding: 20px;
            text-align: center;
            margin-top: 40px;
        }

        .footer p {
            margin-bottom: 10px;
        }

        /* Responsive */
        @media (max-width: 992px) {
            .main-content {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                border-right: none;
                border-bottom: 1px solid #ddd;
            }
            
            .menu {
                display: flex;
                overflow-x: auto;
                padding: 10px;
            }
            
            .menu-item {
                white-space: nowrap;
                border-left: none;
                border-bottom: 3px solid transparent;
                flex-direction: column;
                padding: 10px 15px;
                min-width: 140px;
                text-align: center;
            }
            
            .menu-item.active {
                border-left: none;
                border-bottom-color: var(--secondary);
            }
            
            .menu-item:hover {
                padding-left: 15px;
                border-left: none;
                border-bottom-color: var(--secondary);
            }
            
            .card-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
                flex-direction: column;
                gap: 10px;
            }
            
            .input-row {
                flex-direction: column;
                gap: 0;
            }
            
            .button-group {
                flex-direction: column;
            }
            
            .card-grid {
                grid-template-columns: 1fr;
            }
            
            .results-container {
                grid-template-columns: 1fr;
            }
        }

        /* Lux Meter */
        .lux-meter {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            margin-top: 25px;
        }

        .meter-scale {
            height: 30px;
            background: linear-gradient(to right, #e74c3c, #f39c12, #2ecc71, #f39c12, #e74c3c);
            border-radius: 15px;
            margin: 20px 0;
            position: relative;
        }

        .meter-indicator {
            position: absolute;
            top: -10px;
            width: 3px;
            height: 50px;
            background: var(--primary);
            transform: translateX(-50%);
        }

        .meter-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            color: #777;
            font-size: 0.9rem;
        }

        /* Table Styles */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .comparison-table th {
            background: var(--light);
            padding: 15px;
            text-align: left;
            font-weight: 600;
            color: var(--primary);
            border-bottom: 2px solid #ddd;
        }

        .comparison-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
        }

        .comparison-table tr:hover {
            background: rgba(52, 152, 219, 0.05);
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(52, 152, 219, 0.3);
            border-radius: 50%;
            border-top-color: var(--secondary);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>
                <i class="fas fa-lightbulb"></i>
                Kalkulator Penerangan Ruangan
            </h1>
            <h2>Menghitung Kebutuhan Penerangan Berdasarkan Standar SNI 03-6577-2001</h2>
            <div class="team-members">
                <div class="member">1. Gholi Kukuh Mustari (1501625053)</div>
                <div class="member">2. Derhans Gading Ardana (1501625072)</div>
                <div class="member">3. Mochamad Rafly Pratama (1501625104)</div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Sidebar Menu -->
            <div class="sidebar">
                <ul class="menu">
                    <li>
                        <button class="menu-item active" data-target="home">
                            <i class="fas fa-home"></i> Utama
                        </button>
                    </li>
                    <li>
                        <button class="menu-item" data-target="single-room">
                            <i class="fas fa-calculator"></i> Hitung Satu Ruangan
                        </button>
                    </li>
                    <li>
                        <button class="menu-item" data-target="multi-room">
                            <i class="fas fa-building"></i> Hitung Seluruh Bangunan
                        </button>
                    </li>
                    <li>
                        <button class="menu-item" data-target="guide">
                            <i class="fas fa-book"></i> Panduan
                        </button>
                    </li>
                    <li>
                        <button class="menu-item" data-target="cost-calc">
                            <i class="fas fa-money-bill-wave"></i> Kalkulator Biaya
                        </button>
                    </li>
                </ul>
            </div>

            <!-- Content Area -->
            <div class="content-area">
                <!-- Home Section -->
                <div class="section active" id="home">
                    <h2 class="section-title"><i class="fas fa-home"></i> Selamat Datang</h2>
                    <div class="form-container">
                        <p style="margin-bottom: 20px; line-height: 1.6;">
                            Selamat datang di Kalkulator Penerangan Ruangan berbasis web. Aplikasi ini dikembangkan untuk menghitung kebutuhan penerangan ruangan berdasarkan standar SNI 03-6577-2001. 
                            Program ini membantu Anda merencanakan sistem pencahayaan yang optimal dengan memperhitungkan berbagai faktor seperti jenis ruangan, warna dinding, dan efisiensi lampu.
                        </p>
                        
                        <div class="card-grid">
                            <div class="card" onclick="switchSection('single-room')">
                                <div class="card-title">
                                    <div class="card-icon" style="background: var(--secondary);">
                                        <i class="fas fa-calculator"></i>
                                    </div>
                                    <span>Hitung Satu Ruangan</span>
                                </div>
                                <div class="card-content">
                                    Hitung kebutuhan penerangan untuk satu ruangan dengan spesifikasi lengkap termasuk dimensi, jenis ruangan, dan spesifikasi lampu.
                                </div>
                            </div>
                            
                            <div class="card" onclick="switchSection('multi-room')">
                                <div class="card-title">
                                    <div class="card-icon" style="background: var(--success);">
                                        <i class="fas fa-building"></i>
                                    </div>
                                    <span>Hitung Seluruh Bangunan</span>
                                </div>
                                <div class="card-content">
                                    Hitung kebutuhan penerangan untuk seluruh bangunan dengan beberapa lantai dan ruangan. Dapatkan analisis komprehensif untuk proyek skala besar.
                                </div>
                            </div>
                            
                            <div class="card" onclick="switchSection('guide')">
                                <div class="card-title">
                                    <div class="card-icon" style="background: var(--warning);">
                                        <i class="fas fa-book"></i>
                                    </div>
                                    <span>Panduan Penggunaan</span>
                                </div>
                                <div class="card-content">
                                    Pelajari cara menggunakan aplikasi dan standar penerangan yang berlaku berdasarkan SNI. Pahami faktor-faktor yang mempengaruhi perhitungan.
                                </div>
                            </div>
                            
                            <div class="card" onclick="switchSection('cost-calc')">
                                <div class="card-title">
                                    <div class="card-icon" style="background: var(--magenta);">
                                        <i class="fas fa-money-bill-wave"></i>
                                    </div>
                                    <span>Kalkulator Biaya</span>
                                </div>
                                <div class="card-content">
                                    Hitung estimasi biaya operasional penerangan Anda berdasarkan daya listrik, jam penggunaan, dan tarif listrik.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Single Room Calculation -->
                <div class="section" id="single-room">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h2 class="section-title" style="margin-bottom: 0; border: none; padding: 0;">
                            <i class="fas fa-calculator"></i> Hitung Satu Ruangan
                        </h2>
                        <button class="btn btn-warning" onclick="switchSection('home')">
                            <i class="fas fa-home"></i> Kembali
                        </button>
                    </div>
                    
                    <!-- Progress Bar -->
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progress-fill"></div>
                        </div>
                        <div class="progress-steps">
                            <div class="step active" id="step1">Data Ruangan</div>
                            <div class="step" id="step2">Spesifikasi Lampu</div>
                            <div class="step" id="step3">Penggunaan</div>
                            <div class="step" id="step4">Hasil</div>
                        </div>
                    </div>

                    <!-- Step 1: Room Data -->
                    <div class="form-container step-form" id="step1-form">
                        <h3 style="color: var(--primary); margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                            <i class="fas fa-door-open"></i> Data Ruangan
                        </h3>
                        
                        <div class="form-group">
                            <label class="form-label">Nama Ruangan</label>
                            <input type="text" class="form-control" id="room-name" placeholder="Contoh: Ruang Tamu Utama" value="Ruang Tamu">
                        </div>
                        
                        <div class="input-row">
                            <div class="form-group">
                                <label class="form-label">Panjang (m)</label>
                                <input type="number" class="form-control" id="room-length" min="0.5" max="1000" step="0.1" value="5">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Lebar (m)</label>
                                <input type="number" class="form-control" id="room-width" min="0.5" max="1000" step="0.1" value="4">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Tinggi Plafon (m)</label>
                                <input type="number" class="form-control" id="room-height" min="2" max="50" step="0.1" value="3">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Jenis Ruangan</label>
                            <select class="form-control" id="room-type">
                                <option value="0">Ruang Tamu (150-300 lux)</option>
                                <option value="1">Kamar Tidur (100-200 lux)</option>
                                <option value="2">Dapur (300-500 lux)</option>
                                <option value="3">Kantor/Study (500-750 lux)</option>
                                <option value="4">Kamar Mandi (200-300 lux)</option>
                                <option value="5">Ruang Baca (500-1000 lux)</option>
                                <option value="6">Koridor/Hall (100-150 lux)</option>
                                <option value="7">Toko/Retail (750-1500 lux)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Warna Dinding</label>
                            <select class="form-control" id="wall-color">
                                <option value="0">Putih (Reflektansi 80%)</option>
                                <option value="1">Terang (Reflektansi 60%)</option>
                                <option value="2">Sedang (Reflektansi 40%)</option>
                                <option value="3">Gelap (Reflektansi 20%)</option>
                                <option value="4">Hitam (Reflektansi 10%)</option>
                            </select>
                        </div>
                        
                        <div class="button-group">
                            <button class="btn btn-primary" onclick="nextStep()" style="flex: 1;">
                                Lanjut <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Step 2: Lamp Specification -->
                    <div class="form-container step-form" id="step2-form" style="display: none;">
                        <h3 style="color: var(--primary); margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                            <i class="fas fa-lightbulb"></i> Spesifikasi Lampu
                        </h3>
                        
                        <div class="form-group">
                            <label class="form-label">Jenis Lampu</label>
                            <select class="form-control" id="lamp-type">
                                <option value="0">LED Ekonomi (80 lm/W, Faktor Daya 0.6)</option>
                                <option value="1" selected>LED Standar (100 lm/W, Faktor Daya 0.85)</option>
                                <option value="2">LED Premium (130 lm/W, Faktor Daya 0.95)</option>
                            </select>
                        </div>
                        
                        <div class="input-row">
                            <div class="form-group">
                                <label class="form-label">Watt per Lampu (W)</label>
                                <input type="number" class="form-control" id="watt-per-lamp" min="5" max="50" step="1" value="15">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Jumlah Lampu yang Tersedia</label>
                                <input type="number" class="form-control" id="available-lamps" min="1" max="100" value="4">
                            </div>
                        </div>
                        
                        <div class="button-group">
                            <button class="btn btn-warning" onclick="prevStep()" style="flex: 1;">
                                <i class="fas fa-arrow-left"></i> Kembali
                            </button>
                            <button class="btn btn-primary" onclick="nextStep()" style="flex: 1;">
                                Lanjut <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Step 3: Usage Data -->
                    <div class="form-container step-form" id="step3-form" style="display: none;">
                        <h3 style="color: var(--primary); margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                            <i class="fas fa-clock"></i> Data Penggunaan
                        </h3>
                        
                        <div class="input-row">
                            <div class="form-group">
                                <label class="form-label">Jam Penggunaan per Hari</label>
                                <input type="number" class="form-control" id="hours-per-day" min="0" max="24" step="0.5" value="8">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Hari Penggunaan per Bulan</label>
                                <input type="number" class="form-control" id="days-per-month" min="0" max="31" step="1" value="30">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Tarif Listrik (Rp/kWh)</label>
                            <select class="form-control" id="electricity-rate">
                                <option value="415">450 VA bersubsidi: Rp 415/kWh</option>
                                <option value="605">900 VA bersubsidi: Rp 605/kWh</option>
                                <option value="1352" selected>900 VA RTM: Rp 1.352/kWh</option>
                                <option value="1444.70">1.300-2.200 VA: Rp 1.444,70/kWh</option>
                                <option value="1699.53">3.500-5.500 VA: Rp 1.699,53/kWh</option>
                            </select>
                        </div>
                        
                        <div class="button-group">
                            <button class="btn btn-warning" onclick="prevStep()" style="flex: 1;">
                                <i class="fas fa-arrow-left"></i> Kembali
                            </button>
                            <button class="btn btn-success" onclick="calculateResults()" style="flex: 1;">
                                <i class="fas fa-calculator"></i> Hitung
                            </button>
                        </div>
                    </div>

                    <!-- Step 4: Results -->
                    <div class="step-form" id="step4-form" style="display: none;">
                        <h3 style="color: var(--primary); margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                            <i class="fas fa-chart-bar"></i> Hasil Perhitungan
                        </h3>
                        
                        <div class="form-container">
                            <h4 style="color: var(--primary); margin-bottom: 15px;">Hasil untuk: <span id="result-room-name">Ruang Tamu</span></h4>
                            
                            <div class="results-container">
                                <div class="result-card">
                                    <div class="result-title"><i class="fas fa-ruler-combined"></i> Luas Ruangan</div>
                                    <div class="result-value" id="result-area">20.00</div>
                                    <div class="result-unit">mÂ²</div>
                                </div>
                                
                                <div class="result-card">
                                    <div class="result-title"><i class="fas fa-tachometer-alt"></i> Kebutuhan Lux</div>
                                    <div class="result-value" id="result-lux">225</div>
                                    <div class="result-unit">lux (Rata-rata)</div>
                                </div>
                                
                                <div class="result-card highlight">
                                    <div class="result-title"><i class="fas fa-plug"></i> Total Daya</div>
                                    <div class="result-value" id="result-total-watt">180</div>
                                    <div class="result-unit">Watt</div>
                                </div>
                                
                                <div class="result-card highlight">
                                    <div class="result-title"><i class="fas fa-lightbulb"></i> Jumlah Lampu</div>
                                    <div class="result-value" id="result-lamp-count">12</div>
                                    <div class="result-unit">Buah</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Lux Meter -->
                        <div class="lux-meter">
                            <h4 style="color: var(--primary); margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-tachometer-alt"></i> Diagram Intensitas Cahaya
                            </h4>
                            <div class="meter-scale" id="lux-meter-scale">
                                <div class="meter-indicator" id="lux-indicator" style="left: 40%;"></div>
                            </div>
                            <div class="meter-labels">
                                <span>Terlalu Gelap</span>
                                <span>Ideal</span>
                                <span>Terlalu Terang</span>
                            </div>
                        </div>
                        
                        <!-- Energy Consumption -->
                        <div class="form-container">
                            <h4 style="color: var(--primary); margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-bolt"></i> Analisis Konsumsi Energi
                            </h4>
                            <div class="results-container">
                                <div class="result-card">
                                    <div class="result-title"><i class="fas fa-calendar-day"></i> Konsumsi Bulanan</div>
                                    <div class="result-value" id="result-monthly-kwh">43.20</div>
                                    <div class="result-unit">kWh</div>
                                </div>
                                
                                <div class="result-card">
                                    <div class="result-title"><i class="fas fa-money-bill"></i> Biaya Bulanan</div>
                                    <div class="result-value" id="result-monthly-cost">58,406</div>
                                    <div class="result-unit">Rupiah</div>
                                </div>
                                
                                <div class="result-card">
                                    <div class="result-title"><i class="fas fa-calendar-alt"></i> Konsumsi Tahunan</div>
                                    <div class="result-value" id="result-yearly-kwh">518.40</div>
                                    <div class="result-unit">kWh</div>
                                </div>
                                
                                <div class="result-card">
                                    <div class="result-title"><i class="fas fa-wallet"></i> Biaya Tahunan</div>
                                    <div class="result-value" id="result-yearly-cost">700,877</div>
                                    <div class="result-unit">Rupiah</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Tips -->
                        <div class="tips-container">
                            <h4 class="tips-title"><i class="fas fa-lightbulb"></i> Tips Penghematan Energi</h4>
                            <div class="tip-item">
                                <i class="fas fa-check-circle tip-icon"></i>
                                <span>Gunakan lampu dengan efikasi > 100 lm/W untuk penghematan maksimal</span>
                            </div>
                            <div class="tip-item">
                                <i class="fas fa-check-circle tip-icon"></i>
                                <span>Pilih lampu dengan faktor daya > 0.9 untuk efisiensi daya</span>
                            </div>
                            <div class="tip-item">
                                <i class="fas fa-check-circle tip-icon"></i>
                                <span>Gunakan sensor gerak di area yang jarang digunakan</span>
                            </div>
                            <div class="tip-item">
                                <i class="fas fa-check-circle tip-icon"></i>
                                <span>Manfaatkan pencahayaan alami di siang hari</span>
                            </div>
                        </div>
                        
                        <div class="button-group" style="margin-top: 30px;">
                            <button class="btn btn-warning" onclick="prevStep()" style="flex: 1;">
                                <i class="fas fa-arrow-left"></i> Kembali
                            </button>
                            <button class="btn btn-success" onclick="saveReport()" style="flex: 1;">
                                <i class="fas fa-download"></i> Simpan Laporan
                            </button>
                            <button class="btn btn-primary" onclick="switchSection('home')" style="flex: 1;">
                                <i class="fas fa-home"></i> Kembali ke Utama
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Multi Room Calculation -->
                <div class="section" id="multi-room">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h2 class="section-title" style="margin-bottom: 0; border: none; padding: 0;">
                            <i class="fas fa-building"></i> Hitung Seluruh Bangunan
                        </h2>
                        <button class="btn btn-warning" onclick="switchSection('home')">
                            <i class="fas fa-home"></i> Kembali
                        </button>
                    </div>
                    
                    <div class="form-container">
                        <p style="margin-bottom: 20px; line-height: 1.6;">
                            Fitur ini memungkinkan Anda menghitung kebutuhan penerangan untuk seluruh bangunan dengan beberapa lantai dan ruangan. 
                            Anda dapat menentukan jumlah lantai dan ruangan per lantai untuk mendapatkan analisis yang komprehensif.
                        </p>
                        
                        <div class="form-group">
                            <label class="form-label">Jumlah Lantai</label>
                            <input type="number" class="form-control" id="floor-count" min="1" max="50" value="2">
                        </div>
                        
                        <div id="floor-inputs">
                            <!-- Floor inputs will be generated here -->
                        </div>
                        
                        <button class="btn btn-primary btn-block" onclick="addFloorDetails()" style="margin-top: 20px;">
                            <i class="fas fa-plus"></i> Tambah Detail Lantai
                        </button>
                        
                        <div class="button-group" style="margin-top: 30px;">
                            <button class="btn btn-success" onclick="calculateBuilding()">
                                <i class="fas fa-calculator"></i> Hitung Seluruh Bangunan
                            </button>
                        </div>
                    </div>
                    
                    <div id="building-results" style="display: none; margin-top: 30px;">
                        <!-- Building results will be displayed here -->
                    </div>
                </div>

                <!-- Guide Section -->
                <div class="section" id="guide">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h2 class="section-title" style="margin-bottom: 0; border: none; padding: 0;">
                            <i class="fas fa-book"></i> Panduan Penggunaan
                        </h2>
                        <button class="btn btn-warning" onclick="switchSection('home')">
                            <i class="fas fa-home"></i> Kembali
                        </button>
                    </div>
                    
                    <div class="form-container">
                        <h3 style="color: var(--primary); margin-bottom: 15px;">Tentang Program</h3>
                        <p style="margin-bottom: 20px; line-height: 1.6;">
                            Program ini membantu Anda menghitung kebutuhan penerangan ruangan berdasarkan standar SNI 03-6577-2001. 
                            Aplikasi ini memperhitungkan berbagai faktor seperti dimensi ruangan, jenis aktivitas, warna dinding, 
                            dan spesifikasi lampu untuk memberikan rekomendasi yang akurat.
                        </p>
                        
                        <h3 style="color: var(--primary); margin-bottom: 15px; margin-top: 25px;">Langkah-langkah Perhitungan</h3>
                        
                        <div class="tip-item" style="margin-bottom: 15px;">
                            <div style="width: 30px; height: 30px; background: var(--secondary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; margin-right: 10px;">
                                1
                            </div>
                            <div>
                                <strong>Input Data Ruangan</strong> - Masukkan dimensi ruangan (panjang, lebar, tinggi), pilih jenis ruangan sesuai fungsi, pilih warna dinding berdasarkan reflektansi.
                            </div>
                        </div>
                        
                        <div class="tip-item" style="margin-bottom: 15px;">
                            <div style="width: 30px; height: 30px; background: var(--success); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; margin-right: 10px;">
                                2
                            </div>
                            <div>
                                <strong>Spesifikasi Lampu</strong> - Pilih jenis lampu (LED Ekonomi/Standar/Premium) dan masukkan spesifikasi teknis lampu.
                            </div>
                        </div>
                        
                        <div class="tip-item" style="margin-bottom: 15px;">
                            <div style="width: 30px; height: 30px; background: var(--warning); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; margin-right: 10px;">
                                3
                            </div>
                            <div>
                                <strong>Data Penggunaan</strong> - Masukkan pola penggunaan harian/bulanan dan tarif listrik.
                            </div>
                        </div>
                        
                        <div class="tip-item" style="margin-bottom: 15px;">
                            <div style="width: 30px; height: 30px; background: var(--magenta); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; margin-right: 10px;">
                                4
                            </div>
                            <div>
                                <strong>Hasil & Analisis</strong> - Dapatkan rekomendasi jumlah lampu, analisis biaya operasional, dan rekomendasi penempatan.
                            </div>
                        </div>
                        
                        <h3 style="color: var(--primary); margin-bottom: 15px; margin-top: 25px;">Standar Lux yang Dianjurkan</h3>
                        <p>Berdasarkan SNI 03-6577-2001:</p>
                        
                        <div class="comparison-table">
                            <table style="width: 100%;">
                                <tr>
                                    <th>Jenis Ruangan</th>
                                    <th>Rentang Lux</th>
                                    <th>Rata-rata</th>
                                </tr>
                                <tr>
                                    <td>Ruang Tamu</td>
                                    <td>150-300 lux</td>
                                    <td>225 lux</td>
                                </tr>
                                <tr>
                                    <td>Kamar Tidur</td>
                                    <td>100-200 lux</td>
                                    <td>150 lux</td>
                                </tr>
                                <tr>
                                    <td>Dapur</td>
                                    <td>300-500 lux</td>
                                    <td>400 lux</td>
                                </tr>
                                <tr>
                                    <td>Kantor/Study</td>
                                    <td>500-750 lux</td>
                                    <td>625 lux</td>
                                </tr>
                                <tr>
                                    <td>Kamar Mandi</td>
                                    <td>200-300 lux</td>
                                    <td>250 lux</td>
                                </tr>
                                <tr>
                                    <td>Ruang Baca</td>
                                    <td>500-1000 lux</td>
                                    <td>750 lux</td>
                                </tr>
                                <tr>
                                    <td>Koridor/Hall</td>
                                    <td>100-150 lux</td>
                                    <td>125 lux</td>
                                </tr>
                                <tr>
                                    <td>Toko/Retail</td>
                                    <td>750-1500 lux</td>
                                    <td>1125 lux</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Cost Calculator -->
                <div class="section" id="cost-calc">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h2 class="section-title" style="margin-bottom: 0; border: none; padding: 0;">
                            <i class="fas fa-money-bill-wave"></i> Kalkulator Biaya
                        </h2>
                        <button class="btn btn-warning" onclick="switchSection('home')">
                            <i class="fas fa-home"></i> Kembali
                        </button>
                    </div>
                    
                    <div class="form-container">
                        <p style="margin-bottom: 20px; line-height: 1.6;">
                            Hitung estimasi biaya operasional penerangan berdasarkan spesifikasi yang Anda pilih. 
                            Kalkulator ini membantu Anda memperkirakan pengeluaran bulanan dan tahunan untuk sistem pencahayaan.
                        </p>
                        
                        <div class="input-row">
                            <div class="form-group">
                                <label class="form-label">Total Daya Penerangan (Watt)</label>
                                <input type="number" class="form-control" id="total-power" min="1" max="100000" value="500">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Jam Penggunaan per Hari</label>
                                <input type="number" class="form-control" id="cost-hours-per-day" min="0" max="24" step="0.5" value="8">
                            </div>
                        </div>
                        
                        <div class="input-row">
                            <div class="form-group">
                                <label class="form-label">Hari Penggunaan per Bulan</label>
                                <input type="number" class="form-control" id="cost-days-per-month" min="0" max="31" step="1" value="30">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Tarif Listrik (Rp/kWh)</label>
                                <input type="number" class="form-control" id="cost-electricity-rate" min="100" max="10000" value="1444.70">
                            </div>
                        </div>
                        
                        <button class="btn btn-primary btn-block" onclick="calculateCost()" style="margin-top: 20px;">
                            <i class="fas fa-calculator"></i> Hitung Biaya
                        </button>
                        
                        <div id="cost-results" style="margin-top: 30px; display: none;">
                            <h3 style="color: var(--primary); margin-bottom: 20px;">Hasil Perhitungan Biaya</h3>
                            <div class="results-container">
                                <div class="result-card">
                                    <div class="result-title"><i class="fas fa-bolt"></i> Konsumsi Harian</div>
                                    <div class="result-value" id="cost-daily">4.00</div>
                                    <div class="result-unit">kWh</div>
                                </div>
                                
                                <div class="result-card">
                                    <div class="result-title"><i class="fas fa-calendar-day"></i> Konsumsi Bulanan</div>
                                    <div class="result-value" id="cost-monthly">120.00</div>
                                    <div class="result-unit">kWh</div>
                                </div>
                                
                                <div class="result-card highlight">
                                    <div class="result-title"><i class="fas fa-money-bill"></i> Biaya Bulanan</div>
                                    <div class="result-value" id="cost-monthly-amount">173,364</div>
                                    <div class="result-unit">Rupiah</div>
                                </div>
                                
                                <div class="result-card highlight">
                                    <div class="result-title"><i class="fas fa-calendar-alt"></i> Biaya Tahunan</div>
                                    <div class="result-value" id="cost-yearly">2,080,368</div>
                                    <div class="result-unit">Rupiah</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>&copy; 2023 Kalkulator Penerangan Ruangan - Kelompok 6</p>
            <p>Dikembangkan untuk memenuhi tugas mata kuliah Pemrograman C++</p>
            <p style="font-size: 0.9rem; margin-top: 10px;">
                <i class="fas fa-lightbulb"></i> Berdasarkan Standar SNI 03-6577-2001 tentang Tata Cara Perancangan Sistem Pencahayaan Buatan
            </p>
        </div>
    </div>

    <script>
        // Data untuk aplikasi
        const roomTypes = [
            { name: "Ruang Tamu", luxMin: 150, luxMax: 300 },
            { name: "Kamar Tidur", luxMin: 100, luxMax: 200 },
            { name: "Dapur", luxMin: 300, luxMax: 500 },
            { name: "Kantor/Study", luxMin: 500, luxMax: 750 },
            { name: "Kamar Mandi", luxMin: 200, luxMax: 300 },
            { name: "Ruang Baca", luxMin: 500, luxMax: 1000 },
            { name: "Koridor/Hall", luxMin: 100, luxMax: 150 },
            { name: "Toko/Retail", luxMin: 750, luxMax: 1500 }
        ];

        const wallColors = [
            { name: "Putih", reflectance: 0.8 },
            { name: "Terang", reflectance: 0.6 },
            { name: "Sedang", reflectance: 0.4 },
            { name: "Gelap", reflectance: 0.2 },
            { name: "Hitam", reflectance: 0.1 }
        ];

        const lampTypes = [
            { name: "LED Ekonomi", efficacy: 80, powerFactor: 0.6 },
            { name: "LED Standar", efficacy: 100, powerFactor: 0.85 },
            { name: "LED Premium", efficacy: 130, powerFactor: 0.95 }
        ];

        // Variabel global
        let currentStep = 1;
        let calculationResults = {};

        // Fungsi untuk berpindah section
        function switchSection(sectionId) {
            console.log("Berpindah ke section:", sectionId);
            
            // Sembunyikan semua section
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Tampilkan section yang dipilih
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
            }
            
            // Update menu aktif
            document.querySelectorAll('.menu-item').forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('data-target') === sectionId) {
                    item.classList.add('active');
                }
            });
            
            // Scroll ke atas
            document.querySelector('.content-area').scrollTop = 0;
            
            // Reset kalkulator jika pindah ke single room
            if (sectionId === 'single-room') {
                resetCalculator();
            }
            
            // Update building form jika pindah ke multi-room
            if (sectionId === 'multi-room') {
                addFloorDetails();
            }
        }

        // Fungsi untuk navigasi step dalam kalkulator
        function nextStep() {
            if (currentStep < 4) {
                document.getElementById(`step${currentStep}-form`).style.display = 'none';
                currentStep++;
                
                // Update progress bar
                const progress = ((currentStep - 1) / 3) * 100;
                document.getElementById('progress-fill').style.width = `${progress}%`;
                
                // Update step indicators
                for (let i = 1; i <= 4; i++) {
                    const step = document.getElementById(`step${i}`);
                    if (i <= currentStep) {
                        step.classList.add('active');
                    } else {
                        step.classList.remove('active');
                    }
                }
                
                // Show current step form
                document.getElementById(`step${currentStep}-form`).style.display = 'block';
            }
        }

        function prevStep() {
            if (currentStep > 1) {
                document.getElementById(`step${currentStep}-form`).style.display = 'none';
                currentStep--;
                
                // Update progress bar
                const progress = ((currentStep - 1) / 3) * 100;
                document.getElementById('progress-fill').style.width = `${progress}%`;
                
                // Update step indicators
                for (let i = 1; i <= 4; i++) {
                    const step = document.getElementById(`step${i}`);
                    if (i <= currentStep) {
                        step.classList.add('active');
                    } else {
                        step.classList.remove('active');
                    }
                }
                
                // Show current step form
                document.getElementById(`step${currentStep}-form`).style.display = 'block';
            }
        }

        // Fungsi untuk menghitung indeks ruangan
        function calculateRoomIndex(length, width, height) {
            return (length * width) / (height * (length + width));
        }

        // Fungsi untuk menghitung faktor pemanfaatan
        function calculateUtilizationFactor(roomIndex, reflectance) {
            let factor;
            
            if (roomIndex < 0.7) {
                factor = 0.35 + 0.35 * reflectance;
            } else if (roomIndex < 1.5) {
                factor = 0.5 + 0.3 * reflectance;
            } else {
                factor = 0.6 + 0.4 * reflectance;
            }
            
            // Batasi antara 0.3 dan 0.9
            if (factor < 0.3) factor = 0.3;
            if (factor > 0.9) factor = 0.9;
            
            return factor;
        }

        // Fungsi utama untuk menghitung hasil
        function calculateResults() {
            // Ambil data dari form
            const roomName = document.getElementById('room-name').value;
            const length = parseFloat(document.getElementById('room-length').value);
            const width = parseFloat(document.getElementById('room-width').value);
            const height = parseFloat(document.getElementById('room-height').value);
            const roomTypeIndex = parseInt(document.getElementById('room-type').value);
            const wallColorIndex = parseInt(document.getElementById('wall-color').value);
            const lampTypeIndex = parseInt(document.getElementById('lamp-type').value);
            const wattPerLamp = parseFloat(document.getElementById('watt-per-lamp').value);
            const availableLamps = parseInt(document.getElementById('available-lamps').value);
            const hoursPerDay = parseFloat(document.getElementById('hours-per-day').value);
            const daysPerMonth = parseFloat(document.getElementById('days-per-month').value);
            const electricityRate = parseFloat(document.getElementById('electricity-rate').value);
            
            // Dapatkan data dari array
            const roomType = roomTypes[roomTypeIndex];
            const wallColor = wallColors[wallColorIndex];
            const lampType = lampTypes[lampTypeIndex];
            
            // Hitung dimensi dasar
            const area = length * width;
            const volume = area * height;
            const roomIndex = calculateRoomIndex(length, width, height);
            
            // Hitung kebutuhan lux (rata-rata min dan max)
            const requiredLux = (roomType.luxMin + roomType.luxMax) / 2;
            
            // Hitung faktor pemanfaatan
            const utilizationFactor = calculateUtilizationFactor(roomIndex, wallColor.reflectance);
            
            // Asumsi faktor perawatan (maintenance factor)
            const maintenanceFactor = 0.8;
            
            // Hitung total lumen yang dibutuhkan
            const totalLumens = (requiredLux * area) / (utilizationFactor * maintenanceFactor);
            
            // Hitung total watt yang dibutuhkan
            const totalWatts = totalLumens / lampType.efficacy;
            
            // Hitung jumlah lampu yang dibutuhkan
            let lampCount = Math.ceil(totalWatts / wattPerLamp);
            
            // Jika pengguna memiliki lampu yang tersedia, gunakan itu jika cukup
            if (availableLamps >= lampCount) {
                lampCount = availableLamps;
            }
            
            // Hitung watt aktual
            const actualWatts = lampCount * wattPerLamp;
            
            // Hitung konsumsi energi
            const hoursPerMonth = hoursPerDay * daysPerMonth;
            const monthlyKwh = (actualWatts * hoursPerMonth) / 1000;
            const monthlyCost = monthlyKwh * electricityRate;
            const yearlyKwh = monthlyKwh * 12;
            const yearlyCost = monthlyCost * 12;
            
            // Simpan hasil untuk digunakan nanti
            calculationResults = {
                roomName,
                area,
                requiredLux,
                roomType,
                actualWatts,
                lampCount,
                monthlyKwh,
                monthlyCost,
                yearlyKwh,
                yearlyCost
            };
            
            // Tampilkan hasil
            document.getElementById('result-room-name').textContent = roomName;
            document.getElementById('result-area').textContent = area.toFixed(2);
            document.getElementById('result-lux').textContent = Math.round(requiredLux);
            document.getElementById('result-total-watt').textContent = Math.round(actualWatts);
            document.getElementById('result-lamp-count').textContent = lampCount;
            document.getElementById('result-monthly-kwh').textContent = monthlyKwh.toFixed(2);
            document.getElementById('result-monthly-cost').textContent = Math.round(monthlyCost).toLocaleString();
            document.getElementById('result-yearly-kwh').textContent = yearlyKwh.toFixed(2);
            document.getElementById('result-yearly-cost').textContent = Math.round(yearlyCost).toLocaleString();
            
            // Update lux meter
            updateLuxMeter(requiredLux, roomType.luxMin, roomType.luxMax);
            
            // Lanjut ke step hasil
            nextStep();
        }

        // Fungsi untuk update lux meter
        function updateLuxMeter(lux, min, max) {
            const indicator = document.getElementById('lux-indicator');
            
            // Hitung posisi indikator (0-100%)
            let position;
            if (lux < min) {
                position = 25 * (lux / min);
            } else if (lux > max) {
                position = 75 + 25 * ((lux - max) / (max * 2));
                if (position > 100) position = 100;
            } else {
                position = 25 + 50 * ((lux - min) / (max - min));
            }
            
            // Update posisi indikator
            indicator.style.left = `${position}%`;
            
            // Update warna indikator berdasarkan posisi
            if (position < 25) {
                indicator.style.background = '#e74c3c'; // Merah (terlalu gelap)
            } else if (position > 75) {
                indicator.style.background = '#e74c3c'; // Merah (terlalu terang)
            } else {
                indicator.style.background = '#2ecc71'; // Hijau (ideal)
            }
        }

        // Fungsi untuk reset kalkulator
        function resetCalculator() {
            currentStep = 1;
            
            // Reset form values
            document.getElementById('room-name').value = 'Ruang Tamu';
            document.getElementById('room-length').value = '5';
            document.getElementById('room-width').value = '4';
            document.getElementById('room-height').value = '3';
            document.getElementById('room-type').value = '0';
            document.getElementById('wall-color').value = '0';
            document.getElementById('lamp-type').value = '1';
            document.getElementById('watt-per-lamp').value = '15';
            document.getElementById('available-lamps').value = '4';
            document.getElementById('hours-per-day').value = '8';
            document.getElementById('days-per-month').value = '30';
            document.getElementById('electricity-rate').value = '1352';
            
            // Reset tampilan
            document.getElementById('step2-form').style.display = 'none';
            document.getElementById('step3-form').style.display = 'none';
            document.getElementById('step4-form').style.display = 'none';
            document.getElementById('step1-form').style.display = 'block';
            
            // Reset progress bar
            document.getElementById('progress-fill').style.width = '0%';
            
            // Reset step indicators
            for (let i = 1; i <= 4; i++) {
                const step = document.getElementById(`step${i}`);
                if (i === 1) {
                    step.classList.add('active');
                } else {
                    step.classList.remove('active');
                }
            }
        }

        // Fungsi untuk menghitung biaya
        function calculateCost() {
            const totalPower = parseFloat(document.getElementById('total-power').value);
            const hoursPerDay = parseFloat(document.getElementById('cost-hours-per-day').value);
            const daysPerMonth = parseFloat(document.getElementById('cost-days-per-month').value);
            const electricityRate = parseFloat(document.getElementById('cost-electricity-rate').value);
            
            // Hitung konsumsi
            const dailyKwh = (totalPower * hoursPerDay) / 1000;
            const monthlyKwh = dailyKwh * daysPerMonth;
            const monthlyCost = monthlyKwh * electricityRate;
            const yearlyCost = monthlyCost * 12;
            
            // Tampilkan hasil
            document.getElementById('cost-daily').textContent = dailyKwh.toFixed(2);
            document.getElementById('cost-monthly').textContent = monthlyKwh.toFixed(2);
            document.getElementById('cost-monthly-amount').textContent = Math.round(monthlyCost).toLocaleString();
            document.getElementById('cost-yearly').textContent = Math.round(yearlyCost).toLocaleString();
            
            // Tampilkan hasil
            document.getElementById('cost-results').style.display = 'block';
        }

        // Fungsi untuk menyimpan laporan
        function saveReport() {
            const roomName = calculationResults.roomName || 'Ruangan';
            const date = new Date().toLocaleDateString('id-ID');
            
            // Buat konten laporan
            let report = `LAPORAN PERHITUNGAN PENERANGAN\n`;
            report += `================================\n\n`;
            report += `Nama Ruangan: ${roomName}\n`;
            report += `Tanggal: ${date}\n\n`;
            report += `HASIL PERHITUNGAN:\n`;
            report += `-----------------\n`;
            report += `Luas Ruangan: ${calculationResults.area.toFixed(2)} mÂ²\n`;
            report += `Kebutuhan Lux: ${calculationResults.requiredLux.toFixed(0)} lux\n`;
            report += `Jenis Ruangan: ${calculationResults.roomType.name}\n`;
            report += `Total Daya: ${calculationResults.actualWatts.toFixed(0)} Watt\n`;
            report += `Jumlah Lampu: ${calculationResults.lampCount} buah\n`;
            report += `Konsumsi Bulanan: ${calculationResults.monthlyKwh.toFixed(2)} kWh\n`;
            report += `Biaya Bulanan: Rp ${calculationResults.monthlyCost.toLocaleString()}\n`;
            report += `Konsumsi Tahunan: ${calculationResults.yearlyKwh.toFixed(2)} kWh\n`;
            report += `Biaya Tahunan: Rp ${calculationResults.yearlyCost.toLocaleString()}\n`;
            
            // Buat link download
            const blob = new Blob([report], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `Laporan_Penerangan_${roomName.replace(/\s+/g, '_')}_${date.replace(/\//g, '-')}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            alert('Laporan berhasil disimpan!');
        }

        // Fungsi untuk detail lantai pada perhitungan bangunan
        function addFloorDetails() {
            const floorCount = parseInt(document.getElementById('floor-count').value);
            const container = document.getElementById('floor-inputs');
            container.innerHTML = '';
            
            for (let i = 0; i < floorCount; i++) {
                const floorDiv = document.createElement('div');
                floorDiv.className = 'form-container';
                floorDiv.style.marginTop = '15px';
                floorDiv.innerHTML = `
                    <h4 style="color: var(--primary); margin-bottom: 15px;">Lantai ${i + 1}</h4>
                    <div class="form-group">
                        <label class="form-label">Jumlah Ruangan di Lantai ${i + 1}</label>
                        <input type="number" class="form-control floor-room-count" data-floor="${i}" min="1" max="50" value="${i === 0 ? 3 : 2}">
                    </div>
                `;
                container.appendChild(floorDiv);
            }
        }

        // Fungsi untuk menghitung kebutuhan bangunan
        function calculateBuilding() {
            const floorCount = parseInt(document.getElementById('floor-count').value);
            
            // Simulasi perhitungan sederhana
            let totalArea = 0;
            let totalWatts = 0;
            let totalLamps = 0;
            let totalMonthlyCost = 0;
            let roomCount = 0;
            
            // Asumsi rata-rata per ruangan
            for (let i = 0; i < floorCount; i++) {
                const roomCountForFloor = i === 0 ? 3 : 2; // Lantai 1: 3 ruangan, lainnya: 2 ruangan
                roomCount += roomCountForFloor;
                
                // Asumsi per ruangan: 20mÂ², 200W, 10 lampu
                totalArea += roomCountForFloor * 20;
                totalWatts += roomCountForFloor * 200;
                totalLamps += roomCountForFloor * 10;
                totalMonthlyCost += roomCountForFloor * 50000; // Rp 50.000 per ruangan
            }
            
            const totalYearlyCost = totalMonthlyCost * 12;
            
            // Tampilkan hasil
            const resultsDiv = document.getElementById('building-results');
            resultsDiv.style.display = 'block';
            resultsDiv.innerHTML = `
                <div class="form-container">
                    <h3 style="color: var(--primary); margin-bottom: 20px;">Hasil Perhitungan Bangunan</h3>
                    
                    <div class="results-container">
                        <div class="result-card">
                            <div class="result-title"><i class="fas fa-layer-group"></i> Jumlah Lantai</div>
                            <div class="result-value">${floorCount}</div>
                            <div class="result-unit">lantai</div>
                        </div>
                        
                        <div class="result-card">
                            <div class="result-title"><i class="fas fa-door-open"></i> Total Ruangan</div>
                            <div class="result-value">${roomCount}</div>
                            <div class="result-unit">ruangan</div>
                        </div>
                        
                        <div class="result-card highlight">
                            <div class="result-title"><i class="fas fa-ruler-combined"></i> Total Luas</div>
                            <div class="result-value">${totalArea}</div>
                            <div class="result-unit">mÂ²</div>
                        </div>
                        
                        <div class="result-card highlight">
                            <div class="result-title"><i class="fas fa-plug"></i> Total Daya</div>
                            <div class="result-value">${totalWatts}</div>
                            <div class="result-unit">Watt</div>
                        </div>
                    </div>
                    
                    <div class="results-container" style="margin-top: 20px;">
                        <div class="result-card">
                            <div class="result-title"><i class="fas fa-lightbulb"></i> Total Lampu</div>
                            <div class="result-value">${totalLamps}</div>
                            <div class="result-unit">buah</div>
                        </div>
                        
                        <div class="result-card">
                            <div class="result-title"><i class="fas fa-money-bill"></i> Biaya Bulanan</div>
                            <div class="result-value">${totalMonthlyCost.toLocaleString()}</div>
                            <div class="result-unit">Rupiah</div>
                        </div>
                        
                        <div class="result-card">
                            <div class="result-title"><i class="fas fa-calendar-alt"></i> Biaya Tahunan</div>
                            <div class="result-value">${totalYearlyCost.toLocaleString()}</div>
                            <div class="result-unit">Rupiah</div>
                        </div>
                    </div>
                </div>
            `;
            
            // Scroll ke hasil
            resultsDiv.scrollIntoView({ behavior: 'smooth' });
        }

        // Inisialisasi saat halaman dimuat
        document.addEventListener('DOMContentLoaded', function() {
            // Tambahkan event listener untuk menu items
            const menuItems = document.querySelectorAll('.menu-item');
            menuItems.forEach(item => {
                item.addEventListener('click', function() {
                    const targetSection = this.getAttribute('data-target');
                    if (targetSection) {
                        switchSection(targetSection);
                    }
                });
            });
            
            // Inisialisasi progress bar
            document.getElementById('progress-fill').style.width = '0%';
            
            // Set default view
            switchSection('home');
            
            // Inisialisasi form bangunan
            addFloorDetails();
        });
    </script>
</body>
</html>